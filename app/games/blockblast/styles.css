/* overall */
.bb-root { max-width: 980px; margin: 18px auto; padding: 18px; font-family: Inter, Arial, sans-serif; color: #0b1220; }
.bb-header { display:flex; justify-content:space-between; align-items:center; gap:12px; }
.bb-info { display:flex; gap:18px; align-items:center; }
.bb-controls button { padding:6px 10px; cursor:pointer; }

/* layout */
.bb-main { display:flex; gap:18px; align-items:flex-start; margin-top:14px; }

/* board */
.board-wrap { }
.board {
  width: 360px;
  height: 360px;
  display: grid;
  border-radius: 10px;
  overflow: hidden;
  background: linear-gradient(180deg,#fbfdff,#eef6ff);
  border: 3px solid #0f172a;
  box-shadow: 0 10px 28px rgba(2,6,23,0.06);
  touch-action: none;
  position: relative;
  grid-auto-flow: dense;
}
.cell {
  box-sizing: border-box;
  border: 1px solid rgba(2,6,23,0.05);
  width: 100%;
  height: 100%;
  transition: transform 0.14s ease, opacity 0.18s ease, filter 0.18s ease;
}
.cell.empty { background: linear-gradient(180deg,#fff,#f8fbff); }
.cell.filled { box-shadow: inset 0 -6px 10px rgba(0,0,0,0.12); transform: translateY(0); }

/* placing small pop */
.cell.placing {
  animation: placingAnim 140ms ease forwards;
}
@keyframes placingAnim {
  0% { transform: scale(0.6) rotate(-6deg); opacity: 0; filter: blur(2px); }
  100% { transform: scale(1); opacity: 1; filter: blur(0); }
}

/* clearing: float & fade */
.cell.clearing {
  animation: clearingAnim 360ms ease forwards;
}
@keyframes clearingAnim {
  0% { transform: translateY(0) scale(1); opacity:1; filter: saturate(1); }
  50% { transform: translateY(-8px) scale(1.02); opacity:0.95; filter: saturate(1.1); }
  100% { transform: translateY(-30px) scale(0.9); opacity:0; filter: blur(1px); }
}

/* pieces area */
.pieces-area { min-width: 240px; }
.pieces-list { display:flex; gap:12px; align-items:center; margin-bottom:8px; flex-wrap:wrap; }
.piece-slot { width: auto; }
.piece-box { background:#fff; padding:8px; border-radius:10px; border:2px solid #e6eefc; box-shadow:0 6px 14px rgba(2,6,23,0.04); cursor:grab; }
.piece-box.used { opacity:0.38; border-style:dashed; cursor:default; }
.piece-grid { display:grid; gap:6px; padding:4px; }
.pfilled { width:22px; height:22px; border-radius:4px; box-shadow: inset 0 -3px 6px rgba(0,0,0,0.1); }
.pempty { width:22px; height:22px; }

/* hint & footer */
.hint { font-size:12px; color:#475569; margin-top:8px; display:block; }
.bb-footer { margin-top:18px; color:#64748b; }

/* gameover overlay */
.bb-gameover {
  position: fixed;
  inset: 0;
  display:flex;
  align-items:center;
  justify-content:center;
  background: rgba(2,6,23,0.4);
  z-index: 90;
}
.bb-gameover-card {
  background: #fff;
  padding:20px;
  border-radius:12px;
  text-align:center;
  box-shadow: 0 20px 60px rgba(2,6,23,0.3);
}

/* responsive */
@media (max-width:820px) {
  .bb-main { flex-direction: column; align-items:center; }
  .board { width: 320px; height: 320px; }
}
@media (max-width:420px) {
  .board { width: 280px; height: 280px; }
}
